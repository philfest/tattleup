<html>
<head>
<title>JBoss Migration Analysis Tool</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script> 
    <script src="http://malsup.github.com/jquery.form.js"></script> 
    
    <!--[IF IE]>
    <script type="text/javascript">
        alert("You appear to be using Internet Explorer. Please exit and revisit this site with Firefox. Your results will not appear correctly otherwise.");
    </script>
	<![endif]-->

	<style type="text/css" media="screen, print, projection">
		body,
		html {
			margin:0;
			padding:0;
			color:#000;
			background:#eb1f2d;
		}
		#wrap {
			width:850px;
			margin:0 auto;
			background:#a5ce37;
		}
		#header {
	    	padding:5px 10px;
			background:white;
		}
		#text {
			padding:5px 10px;
			background:#f9ca28;
		}
		#main {
			float:left;
			width:530px;
			padding:10px;
			background:#f28224;
			color:white;
		}
		#sidebar {
			float:right;
			width:280px;
			padding:10px;
			background:#a5ce37;			
		}
		#sidebar td {
			color:white;
		}
		#footer {
			clear:both;
			padding:5px 10px;
			background:#f9ca28;
		}
		#footer p {
			margin:0;
	    }
	</style>


	<script> 
    	var options = { 
    	    url:        	'WindupInput', 
    	    beforeSubmit: 	validateForm,
    	    success:		showResponse,
    	    forceSync:		'true'
    	};
   
        // wait for the DOM to be loaded 
        $(document).ready(function() { 
            // bind 'myForm' and provide a simple callback function 
            $('#myForm').ajaxForm(options); 
        }); 

        $('#myForm').submit(function() { 
            // submit the form 
            $(this).ajaxSubmit(); 
            // return false to prevent normal browser submit and page navigation 
            return false; 
        });

        function validateForm() {
        	var x=document.forms["myForm"]["appName"].value;
        	if (x==null || x==""){
        	  alert("Application name is a required field.");
        	  return false;
        	}

        	if( /[^a-zA-Z0-9]/.test(x)) {
                alert('Application name must be alphanumeric');
             return false;
            }

        	x=document.forms["myForm"]["uploadFile"].value;
            if (x==null || x==""){
              alert("You must select an archive to upload.");
              return false;
            }

            x=document.forms["myForm"]["javaPkgs"].value;
            if (x==null || x==""){
              alert("Packages to analyze is a required field.");
              return false;
            }    

            document.getElementById("text").innerHTML = 'Your archive is now being analyzed. This could take a while...';
            
            return true;
        }

        function showResponse(responseText, statusText, xhr, $form){
        	document.getElementById("text").innerHTML = responseText;
        }
 
	</script>

</head>
<body>

<div id="wrap">
	
	<div id="header" align='center'>
	
		<img src="1656287.gif"/>
	
	</div>
	
	<div id="text" align='center'></div>
	
	<div id="main">
	
		Welcome to the JBoss Migration Tool.
		<BR><BR>
		This tool uses 2 open source projects from JBoss, Windup and Tattletale, to analyze your application archive. 
		Specifically Windup examines the archive for potential elements within it (proprietary configuration or code for exampe), and
		Tattletale takes a more general tack and looks for missing jar dependencies and classes. 
		Thus the tools are complementary, and this site is intended as an easy and automated way to use them. 
		<BR><BR>
		To analyze your archive simply use the form on the right and...
		<ol>
			<li>Choose a name for your application (use alphanumeric characters only) .</li>
			<li>Upload the application's archive (ear or war).</li>
			<li>Identify the packages to be included or excluded from analysis in a colon delimited list (e.g. com.abc:org.def).</li> 
			<li>Click submit.</li>
		</ol>
		The tool will then analyze the archive and when finished will zip up the results from both tools for downloading.
		To learn more about the results and how you can run both Tattletale and Windup on your own, visit the projects on the web.
		<uL>
			<li>The Windup projet is currently <a href="https://github.com/windup/">on GitHub</a>.</li>
			<li>The Tattletale project can be found on the <a href='http://www.jboss.org/tattletale'>JBoss Community website</a>.</li>
		</uL>
	
	</div>
	
	<div id="sidebar">

		<form id="myForm"  name="myForm"  action="WindupInput" enctype="multipart/form-data" method="post">
		<table id="input" border=0 cellspacing=5 cellpadding=5>
			<tr>
			   <td>Application name*:
			   <BR>
			   <input type="text" name="appName" size=45/></td>
		    </tr> 
			<tr>
			   <td>Archive file*:
			   <BR>
			   <input type="file" name="uploadFile" /></td>
			</tr> 
			<tr>
			   <td nowrap>Packages to analyze*:
			   <BR>
			   <input type="text" name="javaPkgs" size=45 maxLength=250/></td>
			</tr> 
			<tr>
			   <td nowrap>Packages to exclude:
			   <BR>
			   <input type="text" name="excludePkgs" size=45 maxLength=250 /></td>
			</tr> 
			<tr>
			   <td>*Required</td>
			</tr> 
			<tr>
			   <td><input type="submit" name="action" value="submit"/></td>
			</tr>
		</table>
		<input type="hidden" name="targetPlatform" value=""/>
		<input type="hidden" name="fetchRemote" value=""/>
		<input type="hidden" name="logLevel" value=""/>
		<input type="hidden" name="captureLog" value=""/>
		</form>	
	
	</div>
	
	<div id='footer'/>

</div>

</body>
</html>